"use strict";(self.webpackChunk_embeddable_com_remarkable_ui_v0=self.webpackChunk_embeddable_com_remarkable_ui_v0||[]).push([[114],{"./src/components/editors/selects/SingleSelectField/SingleSelectField.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,Clearable:()=>Clearable,Disabled:()=>Disabled,Playground:()=>Playground,Searchable:()=>Searchable,WithCategories:()=>WithCategories,WithIcons:()=>WithIcons,__namedExportsOrder:()=>__namedExportsOrder,default:()=>SingleSelectField_stories,withError:()=>withError,withErrorMessage:()=>withErrorMessage});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/preview-api"),react=__webpack_require__("./node_modules/react/index.js"),SelectFieldTrigger=__webpack_require__("./src/components/editors/selects/shared/SelectFieldTrigger/SelectFieldTrigger.tsx"),Dropdown=__webpack_require__("./src/components/shared/Dropdown/Dropdown.tsx"),SelectFieldContent=__webpack_require__("./src/components/editors/selects/shared/SelectFieldContent/SelectFieldContent.tsx"),SelectFieldOption=__webpack_require__("./src/components/editors/selects/shared/SelectFieldContent/SelectFieldOptions/SelectFieldOption/SelectFieldOption.tsx"),SelectFieldCategory=__webpack_require__("./src/components/editors/selects/shared/SelectFieldContent/SelectFieldOptions/SelectFieldCategory/SelectFieldCategory.tsx"),SelectFieldContent_utils=__webpack_require__("./src/components/editors/selects/shared/SelectFieldContent/SelectFieldContent.utils.ts"),IconSearch=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconSearch.mjs"),useSelectSearchFocus_hook=__webpack_require__("./src/components/editors/selects/shared/useSelectSearchFocus.hook.ts"),FieldHeader=__webpack_require__("./src/components/shared/Field/FieldHeader.tsx"),selects_module=__webpack_require__("./src/components/editors/selects/selects.module.css"),FieldFeedback=__webpack_require__("./src/components/shared/Field/FieldFeedback.tsx"),TextField=__webpack_require__("./src/components/editors/inputs/TextField/TextField.tsx"),debounce_utils=__webpack_require__("./src/utils/debounce.utils.ts");const SingleSelectField=({label,required,value="",startIcon,options,disabled,placeholder,searchable,clearable,isLoading,noOptionsMessage="No options available",onChange,onSearch,error=!1,errorMessage})=>{const[isOpen,setIsOpen]=(0,react.useState)(!1),[searchValue,setSearchValue]=(0,react.useState)(""),[selectedLabel,setSelectedLabel]=(0,react.useState)(value),searchFieldRef=(0,react.useRef)(null);(0,useSelectSearchFocus_hook.o)(isOpen,searchFieldRef),(0,react.useEffect)(()=>{if(!value)return void setSelectedLabel("");const option=options.find(opt=>opt.value===value);option&&setSelectedLabel(option.label)},[value,options]);const debouncedSearch=(0,react.useMemo)(()=>onSearch?(0,debounce_utils.s)(onSearch):void 0,[onSearch]),displayOptions=searchable&&!onSearch?options.filter(option=>option.label.toLowerCase().includes(searchValue.toLowerCase())):options,groupedOptions=(0,react.useMemo)(()=>(0,SelectFieldContent_utils.V)(displayOptions),[displayOptions]),handleChange=newValue=>{if(setSearchValue(""),onChange(newValue??""),onSearch?.(""),""===newValue)setSelectedLabel("");else{const option=options.find(opt=>opt.value===newValue);option&&setSelectedLabel(option.label)}},hasError=error||!!errorMessage;return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(FieldHeader.g,{label,required}),(0,jsx_runtime.jsx)(Dropdown.m,{open:isOpen,onOpenChange:setIsOpen,disabled,triggerComponent:(0,jsx_runtime.jsx)(SelectFieldTrigger.d,{startIcon,"aria-label":"Select option",placeholder,disabled,valueLabel:selectedLabel,onClear:()=>handleChange(""),isClearable:clearable,isLoading,error:hasError}),children:(0,jsx_runtime.jsxs)(SelectFieldContent.K,{children:[searchable&&(0,jsx_runtime.jsx)(TextField.A,{ref:searchFieldRef,startIcon:IconSearch.A,"aria-label":"Search options",placeholder:"Searchâ€¦",role:"searchbox",value:searchValue,onKeyDown:e=>e.stopPropagation(),onChange:newSearch=>{setSearchValue(newSearch),debouncedSearch?.(newSearch)},className:selects_module.A.searchField}),(0,jsx_runtime.jsxs)(SelectFieldContent.I,{disabled:isLoading,children:[groupedOptions?Object.entries(groupedOptions).map(([category,categoryOptions])=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(SelectFieldCategory.H,{label:category}),categoryOptions.map(option=>(0,jsx_runtime.jsx)(SelectFieldOption.G,{onClick:()=>handleChange(option?.value),isSelected:option.value===value,...option},option?.value??option.label))]},category)):displayOptions.map(option=>(0,jsx_runtime.jsx)(SelectFieldOption.G,{onClick:()=>handleChange(option?.value),isSelected:option.value===value,...option},option?.value??option.label)),0===options.length&&(0,jsx_runtime.jsx)(SelectFieldOption.G,{disabled:!0,value:"empty",label:noOptionsMessage})]})]})}),errorMessage&&(0,jsx_runtime.jsx)(FieldFeedback.K,{message:errorMessage,variant:"error"})]})};SingleSelectField.__docgenInfo={description:"",methods:[],displayName:"SingleSelectField",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(SelectListOptionProps | SelectListOptionPropsWithCategory)[]"},description:""},startIcon:{required:!1,tsType:{name:"TablerIcon"},description:""},value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},searchable:{required:!1,tsType:{name:"boolean"},description:""},clearable:{required:!1,tsType:{name:"boolean"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},noOptionsMessage:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'No options available'",computed:!1}},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onSearch:{required:!1,tsType:{name:"signature",type:"function",raw:"(search: string) => void",signature:{arguments:[{type:{name:"string"},name:"search"}],return:{name:"void"}}},description:""},error:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},errorMessage:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},requiredLabel:{required:!1,tsType:{name:"string"},description:""}}};var IconBoltFilled=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconBoltFilled.mjs"),storybook_constants=__webpack_require__("./src/storybook.constants.ts");const mockOptions=[{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"red",label:"Red",rightLabel:"This is color Red",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{})},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"green",label:"Green",rightLabel:"This is color Green",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{})},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"blue",label:"Blue",rightLabel:"This is color Blue",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{})},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"yellow",label:"Yellow",rightLabel:"This is color Yellow",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{})},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"orange",label:"Orange",rightLabel:"This is color Orange",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{})},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"purple",label:"Purple",rightLabel:"This is color Purple",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{})},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"pink",label:"Pink",rightLabel:"This is color Pink",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{})},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"brown",label:"Brown",rightLabel:"This is color Brown",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{})},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"gray",label:"Gray",rightLabel:"This is color Gray",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{})},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"black",label:"Black",rightLabel:"This is color Black",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{})}],mockOptionsWithCategories=[{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"red",label:"Red",rightLabel:"This is color Red",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),category:"Warm Colors"},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"green",label:"Green",rightLabel:"This is color Green",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),category:"Cool Colors"},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"blue",label:"Blue",rightLabel:"This is color Blue",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),category:"Cool Colors"},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"yellow",label:"Yellow",rightLabel:"This is color Yellow",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),category:"Warm Colors"},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"orange",label:"Orange",rightLabel:"This is color Orange",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),category:"Warm Colors"},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"purple",label:"Purple",rightLabel:"This is color Purple",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),category:"Cool Colors"},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"pink",label:"Pink",rightLabel:"This is color Pink",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),category:"Neutral Colors"},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"brown",label:"Brown",rightLabel:"This is color Brown",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),category:"Neutral Colors"},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"gray",label:"Gray",rightLabel:"This is color Gray",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),category:"Neutral Colors"},{startIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),value:"black",label:"Black",rightLabel:"This is color Black",endIcon:(0,jsx_runtime.jsx)(IconBoltFilled.A,{}),category:"Neutral Colors"}],SingleSelectField_stories={title:"Editors/SingleSelectField",component:SingleSelectField,args:{label:"Label",required:!0,value:"",disabled:!1,searchable:!1,clearable:!1,options:mockOptions,onChange:value=>value},argTypes:{startIcon:storybook_constants.Du,onChange:{action:"onChange"}}},Playground={render:args=>{const[,updateArgs]=(0,external_STORYBOOK_MODULE_PREVIEW_API_.useArgs)();return(0,jsx_runtime.jsx)(SingleSelectField,{...args,onChange:val=>{updateArgs({value:val}),args.onChange?.(val)}})}},Basic={args:{label:void 0,required:!1}},WithIcons={args:{label:void 0,required:!1,startIcon:IconBoltFilled.A}},Disabled={args:{label:void 0,required:!1,disabled:!0}},Clearable={args:{label:void 0,required:!1,value:"red",clearable:!0}},Searchable={args:{label:void 0,required:!1,searchable:!0}},WithCategories={args:{label:void 0,required:!1,options:mockOptionsWithCategories}},withError={args:{label:void 0,required:!1,error:!0}},withErrorMessage={args:{label:void 0,required:!1,errorMessage:"Value is invalid"}},__namedExportsOrder=["Playground","Basic","WithIcons","Disabled","Clearable","Searchable","WithCategories","withError","withErrorMessage"]}}]);